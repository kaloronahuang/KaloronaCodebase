// exploit.cpp
#include <bits/stdc++.h>

using namespace std;

const int table[9][9] =
    {{0, 0, 0, 0, 0, 0, 0, 0, 0},
     {0, 0, 1, 0, 0, 0, 0, 0, 0},
     {0, 0, 0, 1, 1, 1, 1, 1, 1},
     {0, 0, 0, 0, 1, 1, 2, 1, 1},
     {0, 0, 0, 0, 0, 1, 2, 4, 4},
     {0, 0, 0, 0, 0, 0, 1, 2, 6},
     {0, 0, 0, 0, 0, 0, 0, 1, 3},
     {0, 0, 0, 0, 0, 0, 0, 0, 1},
     {0, 0, 0, 0, 0, 0, 0, 0, 0}};

int main()
{
    freopen("exploit.in", "r", stdin);
    freopen("exploit.out", "w", stdout);
    int n, L, p;
    scanf("%d%d%d", &n, &L, &p), printf("%d\n", table[L][n] % p);
    return 0;
}